<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel();">&times;</button>
    <h3>Login</h3>
</div>

<div class="modal-body" style="max-height: 350px;">

    <div class="row" style="margin-top: 20px; min-height: 100px;">

    </div>

    <div ng-if="mode == 'LOGIN'">
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="login" class="col-sm-2 control-label">Username</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" id="login" placeholder="Username" required autofocus ng-model="user.login">
                        </div>
                        <label for="pwd" class="col-sm-2 control-label">Password</label>
                        <div class="col-sm-4">
                            <input type="password" class="form-control" id="pwd" required ng-model="user.pwd">
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-sm-1"></div>
        </div>
        <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <div class="login-error" ng-show="wrongCredentials" style="line-height: 0;">
                    <div class="alert alert-danger" style="padding: 10px;"><b>Error: </b>Login/password has not found</div>
                </div>
                <div class="login-error" ng-show="loginError()" style="line-height: 0;">
                    <div class="alert alert-danger" style="padding: 10px;"><b>Error: </b> {{loginErrorText()}}</div>
                </div>
            </div>
            <div class="col-sm-1"></div>
        </div>
    </div>

    <div ng-if="mode == 'SUBSCRIBE'">
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="login" class="col-sm-2 control-label">Email</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="email" placeholder="E-mail" required autofocus ng-model="subscribeState.email">
                        </div>
                        <button type="button" class="btn btn-default gs-btn" ng-click="subscribe();">Subscribe</button>
                    </div>
                </form>
            </div>
            <div class="col-sm-1"></div>
        </div>
        <!--<div class="row">-->
            <!--<div class="col-sm-1"></div>-->
            <!--<div class="col-sm-10">-->
                <!--<div class="login-error" ng-show="wrongCredentials" style="line-height: 0;">-->
                    <!--<div class="alert alert-danger" style="padding: 10px;"><b>Error: </b>Login/password has not found</div>-->
                <!--</div>-->
                <!--<div class="login-error" ng-show="subscribeError()" style="line-height: 0;">-->
                    <!--<div class="alert alert-danger" style="padding: 10px;"><b>Error: </b> {{subscribeErrorText()}}</div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="col-sm-1"></div>-->
        <!--</div>-->
        <div class="row" style="margin-top: 5px;margin-bottom: 10px;">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <div class="col-sm-2"></div>
                <div class="col-sm-6">
                        <button type="button" data-dismiss="modal" class="btn btn-link control-label" ng-click="cancel();">Already subscribed</button>
                </div>
                <div class="col-sm-4">
                    <button type="button" data-dismiss="modal" class="btn btn-link control-label" ng-click="switchToLogin();">Login</button>
                    <button type="button" data-dismiss="modal" class="btn btn-link control-label" ng-click="switchToRegister();">Register</button>
                </div>
            </div>
        </div>
    </div>

    <div ng-if="mode == 'REGISTER'">
        <div class="row" style="margin-top: 20px;">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <form>
                    <div class="form-group">
                        <label for="login" class="control-label">Username</label>
                        <input type="text" class="form-control" id="login" placeholder="Username" required autofocus ng-model="user.login">
                    </div>
                    <div class="form-group">
                        <label for="email" class="control-label">Email</label>
                        <input type="text" class="form-control" id="email" placeholder="E-mail" required ng-model="user.email">
                    </div>
                    <div class="form-group">
                        <label for="pwd" class="control-label">Password</label>
                        <input type="password" class="form-control" id="pwd" required ng-model="user.pwd">
                    </div>
                    <div class="form-group">
                        <label for="repeatPwd" class="control-label">Repeat password</label>
                        <input type="password" class="form-control" id="repeatPwd" required ng-model="user.repeatPwd">
                    </div>
                </form>
            </div>
            <div class="col-sm-1"></div>
        </div>
    </div>

    <div ng-if="mode == 'SUBSCRIBED'">
        <div class="row" style="margin-top: 20px; margin-bottom: 20px;">
            <div class="col-sm-1"></div>
            <div class="col-sm-10">
                <label control-label>Check your e-mail for completing subscription!</label>
            </div>
            <div class="col-sm-1"></div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-1"></div>
        <div class="col-sm-10">
            <div class="login-error" ng-show="isError" style="line-height: 0;">
                <div class="alert alert-danger" style="padding: 10px;"><b>Error: </b> {{errMsg}}</div>
            </div>
        </div>
        <div class="col-sm-1"></div>
    </div>

</div>

<div ng-if="mode == 'LOGIN' || mode == 'REGISTER'">
    <div class="modal-footer">
        <button type="button" class="btn btn-default gs-btn" ng-disabled="working" ng-click="ok();" ng-disabled="false">OK</button>
        <button type="button" data-dismiss="modal" class="btn btn-default gs-btn" ng-disabled="working" ng-click="cancel();">Cancel</button>
    </div>
</div>